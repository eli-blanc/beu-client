{"ast":null,"code":"import _createForOfIteratorHelper from\"/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _classCallCheck from\"/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";export var ActionType={GAGER:'GAGER',CHOISIR_ATOUT:'CHOISIR_ATOUT',PASSER:'PASSER',DISCARTER:'DISCARTER',JOUER:'JOUER',REMPORTER:'REMPORTER',BRASSER:'BRASSER'};export var Action=/*#__PURE__*/function(){function Action(){_classCallCheck(this,Action);this.type=ActionType.GAGER;this.joueur=null;this.remporteur=null;this.cptCarte=0;this.cptJoueur=0;}_createClass(Action,[{key:\"getMsg\",value:function getMsg(){switch(this.type){case ActionType.GAGER:{return\"C'est le temps de gager!\";}case ActionType.CHOISIR_ATOUT:{return\"\".concat(this.joueur.getNom(),\", c'est le temps de choisir l'atout!\");}case ActionType.PASSER:{return\"\".concat(this.joueur.getNom(),\", c'est \\xE0 toi \\xE0 discarter!\");}case ActionType.DISCARTER:{return\"\".concat(this.joueur.getNom(),\", c'est \\xE0 toi \\xE0 discarter!\");}case ActionType.JOUER:{return\"\".concat(this.joueur.getNom(),\", c'est \\xE0 toi \\xE0 jouer!\");}case ActionType.BRASSER:{return\"\".concat(this.joueur.getNom(),\", c'est \\xE0 toi \\xE0 brasser!\");}case ActionType.REMPORTER:{return\"\".concat(this.remporteur.getNom(),\" a remport\\xE9 la main!\");}default:{return'';}}}},{key:\"copy\",value:function copy(){var action=new Action();action.type=this.type;action.joueur=this.joueur;action.cptCarte=this.cptCarte;action.cptJoueur=this.cptJoueur;return action;}},{key:\"next\",value:function next(mise,avecQuettee,paquet,brasseur,auto){var action=this.copy();switch(this.type){case ActionType.GAGER:{if(avecQuettee){paquet.prendreQuettee(mise);action.type=ActionType.CHOISIR_ATOUT;action.cptCarte=0;}else{action.type=ActionType.JOUER;}action.joueur=paquet.getJoueurParNom(mise.joueur);break;}case ActionType.CHOISIR_ATOUT:{paquet.trierBibittes(mise);action.type=ActionType.PASSER;break;}case ActionType.PASSER:{if(action.cptCarte===0){action.cptCarte++;}else{action.cptCarte=0;action.type=ActionType.DISCARTER;action.joueur=paquet.getJoueurParNom(this.joueur.getPartenaire());}break;}case ActionType.DISCARTER:{if(action.cptCarte===0){action.cptCarte++;}else{action.cptCarte=0;action.type=ActionType.JOUER;paquet.sorteDemandee=null;var miseur=paquet.getJoueurParNom(mise.joueur);// Clear quettee pour miseur\nvar _iterator=_createForOfIteratorHelper(miseur.cartes),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var carte=_step.value;carte.surelevee=false;}// Clear quettee pour partenaire\n}catch(err){_iterator.e(err);}finally{_iterator.f();}var _iterator2=_createForOfIteratorHelper(action.joueur.cartes),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var _carte=_step2.value;_carte.surelevee=false;}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}action.joueur=paquet.getNextJoueur(miseur);}break;}case ActionType.JOUER:{action.cptJoueur++;if(action.cptJoueur===4){action.type=ActionType.REMPORTER;action.cptCarte++;action.cptJoueur=0;action.remporteur=paquet.getRemporteur(mise,action.cptCarte===8);action.joueur=action.remporteur;}else{action.joueur=paquet.getNextJoueur(action.joueur);}break;}case ActionType.REMPORTER:{paquet.clearMain();if(action.cptCarte===8){action.cptCarte=0;action.cptJoueur=0;action.type=ActionType.BRASSER;action.joueur=paquet.getNextJoueur(brasseur);action.remporteur=null;}else{action.type=ActionType.JOUER;}break;}case ActionType.BRASSER:{action.type=ActionType.BRASSER;break;}default:{}}paquet.setJoueurActif(action.joueur);return action;}}]);return Action;}();","map":{"version":3,"names":["ActionType","GAGER","CHOISIR_ATOUT","PASSER","DISCARTER","JOUER","REMPORTER","BRASSER","Action","type","joueur","remporteur","cptCarte","cptJoueur","getNom","action","mise","avecQuettee","paquet","brasseur","auto","copy","prendreQuettee","getJoueurParNom","trierBibittes","getPartenaire","sorteDemandee","miseur","cartes","carte","surelevee","getNextJoueur","getRemporteur","clearMain","setJoueurActif"],"sources":["/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/src/models/action.js"],"sourcesContent":["export const ActionType = {\n    GAGER: 'GAGER',\n    CHOISIR_ATOUT: 'CHOISIR_ATOUT',\n    PASSER: 'PASSER',\n    DISCARTER: 'DISCARTER',\n    JOUER: 'JOUER',\n    REMPORTER: 'REMPORTER',\n    BRASSER: 'BRASSER'\n}\n\nexport class Action {\n    constructor() {\n        this.type = ActionType.GAGER;\n        this.joueur = null;\n        this.remporteur = null;\n        this.cptCarte = 0;\n        this.cptJoueur = 0;\n    }\n\n    getMsg() {\n        switch (this.type) {\n            case ActionType.GAGER: {\n                return `C'est le temps de gager!`;\n            }\n            case ActionType.CHOISIR_ATOUT: {\n                return `${this.joueur.getNom()}, c'est le temps de choisir l'atout!`;\n            }\n            case ActionType.PASSER: {\n                return `${this.joueur.getNom()}, c'est à toi à discarter!`;\n            }\n            case ActionType.DISCARTER: {\n                return `${this.joueur.getNom()}, c'est à toi à discarter!`;\n            }\n            case ActionType.JOUER: {                \n                return `${this.joueur.getNom()}, c'est à toi à jouer!`;\n            }\n            case ActionType.BRASSER: {\n                return `${this.joueur.getNom()}, c'est à toi à brasser!`;\n            }            \n            case ActionType.REMPORTER: {\n                return `${this.remporteur.getNom()} a remporté la main!`;\n            }\n            default: {\n                return '';\n            }\n        }\n    }\n\n    copy() {\n        const action = new Action();\n        action.type = this.type;\n        action.joueur = this.joueur;\n        action.cptCarte = this.cptCarte;\n        action.cptJoueur = this.cptJoueur;\n        return action;\n    }\n\n    next(mise, avecQuettee, paquet, brasseur, auto) {\n        const action = this.copy();\n        switch (this.type) {\n            case ActionType.GAGER: {\n                if (avecQuettee) {\n                    paquet.prendreQuettee(mise);\n                    action.type = ActionType.CHOISIR_ATOUT;\n                    action.cptCarte = 0;\n                } else {\n                    action.type = ActionType.JOUER;\n                }\n                action.joueur = paquet.getJoueurParNom(mise.joueur);\n                break;\n            }\n            case ActionType.CHOISIR_ATOUT: {\n                paquet.trierBibittes(mise);\n                action.type = ActionType.PASSER;\n                break;\n            }\n            case ActionType.PASSER: {\n                if (action.cptCarte === 0) {\n                    action.cptCarte++;\n                } else {\n                    action.cptCarte = 0;\n                    action.type = ActionType.DISCARTER;\n                    action.joueur = paquet.getJoueurParNom(this.joueur.getPartenaire());\n                }\n                break;\n            }\n            case ActionType.DISCARTER: {\n                if (action.cptCarte === 0) {\n                    action.cptCarte++;\n                } else {\n                    action.cptCarte = 0;\n                    action.type = ActionType.JOUER;\n                    paquet.sorteDemandee = null;\n                    const miseur = paquet.getJoueurParNom(mise.joueur);\n                    // Clear quettee pour miseur\n                    for (let carte of miseur.cartes) {\n                        carte.surelevee = false;\n                    }\n                    // Clear quettee pour partenaire\n                    for (let carte of action.joueur.cartes) {\n                        carte.surelevee = false;\n                    }\n                    action.joueur = paquet.getNextJoueur(miseur);\n                }\n                break;\n            }\n            case ActionType.JOUER: {\n                action.cptJoueur++;\n                 if (action.cptJoueur === 4) {\n                    action.type = ActionType.REMPORTER;\n                    action.cptCarte++;\n                    action.cptJoueur = 0;\n                    action.remporteur = paquet.getRemporteur(mise, action.cptCarte === 8);\n                    action.joueur = action.remporteur;\n                } else {\n                    action.joueur = paquet.getNextJoueur(action.joueur);\n                }\n\n                break;\n            } \n            case ActionType.REMPORTER: {                \n                paquet.clearMain();\n                if (action.cptCarte === 8) {\n                    action.cptCarte = 0;\n                    action.cptJoueur = 0;\n                    action.type = ActionType.BRASSER;\n                    action.joueur = paquet.getNextJoueur(brasseur);\n                    action.remporteur = null;\n                } else {\n                    action.type = ActionType.JOUER;\n                }\n                break;\n            }\n            case ActionType.BRASSER: {                \n                action.type = ActionType.BRASSER;\n                break;\n            }\n            default: {\n            }\n        }\n        paquet.setJoueurActif(action.joueur);\n        return action;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}