{"ast":null,"code":"import _classCallCheck from\"/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/node_modules/@babel/runtime/helpers/esm/createClass.js\";export var Sorte={COEUR:'coeur',PIQUE:'pique',CARREAU:'carreau',TREFLE:'trèfle',JOKER:'joker',BLANCHE:'blanche',SANS_ATOUT:'sans atout'};export var Couleur={NOIR:'black',ROUGE:'red'};export var Symbole={SEPT:'7',HUIT:'8',NEUF:'9',DIX:'10',JACK:'J',DAME:'Q',ROI:'K',AS:'A'};export var Carte=/*#__PURE__*/function(){function Carte(){var rang=arguments.length>0&&arguments[0]!==undefined?arguments[0]:-1;var sorte=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var symbole=arguments.length>2&&arguments[2]!==undefined?arguments[2]:'';var poids=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;_classCallCheck(this,Carte);this.rang=rang;this.key=\"\".concat(symbole,\"|\").concat(sorte);this.sorte=sorte;this.symbole=symbole;this.surelevee=false;this.poids=poids;this.setImage();this.couleur=this.setCouleur();this.setPoints();}_createClass(Carte,[{key:\"copy\",value:function copy(){var carte=new Carte(this.rang,this.sorte,this.symbole,this.poids);return carte;}},{key:\"setImage\",value:function setImage(){switch(this.sorte){case Sorte.COEUR:{this.image='coeur.png';break;}case Sorte.PIQUE:{this.image='pique.png';break;}case Sorte.CARREAU:{this.image='carreau.png';break;}case Sorte.TREFLE:{this.image='trefle.png';break;}case Sorte.JOKER:{this.image='joker.png';break;}case Sorte.BLANCHE:{this.image='blanche.png';break;}default:{this.image='blanche.png';break;}}}},{key:\"setPoints\",value:function setPoints(){this.points=0;if(this.symbole===Symbole.DIX){this.points=10;}else if(this.symbole===Symbole.ROI){this.points=25;}}},{key:\"setCouleur\",value:function setCouleur(){this.couleur=this.sorte===Sorte.COEUR||this.sorte===Sorte.CARREAU||this.sorte===Sorte.JOKER?Couleur.ROUGE:Couleur.NOIR;}},{key:\"setFromPoids\",value:function setFromPoids(poids,sorte){var _this=this;this.poids=poids;this.sorte=sorte;var symboleKey=Object.keys(Symbole)[poids-7];Object.keys(Symbole).forEach(function(key){if(key===symboleKey){_this.symbole=Symbole[key];}});var sorteIdx=0;Object.keys(Sorte).forEach(function(key,i){if(Sorte[key]===sorte){sorteIdx=i;}});this.rang=sorteIdx*8+poids-7;this.key=\"\".concat(this.symbole,\"|\").concat(sorte);this.setCouleur();this.setImage();this.setPoints();}},{key:\"isAtout\",value:function isAtout(atout){if(atout===Sorte.SANS_ATOUT){return false;}return this.sorte===Sorte.BLANCHE||this.sorte===Sorte.JOKER||this.sorte===atout;}},{key:\"isSorteDemandee\",value:function isSorteDemandee(sorteDemandee,atout){if(sorteDemandee===this.sorte){return true;}if(sorteDemandee===atout&&this.isAtout()){return true;}return false;}},{key:\"isDisabled\",value:function isDisabled(cartes,sorteDemandee,atout){if(sorteDemandee===null){return false;}if(this.isSorteDemandee(sorteDemandee,atout)){return false;}var idx=cartes.findIndex(function(i){return i.isSorteDemandee(sorteDemandee,atout);});if(idx===-1){return false;}return true;}},{key:\"isSeche\",value:function isSeche(cartes,atout){var _this2=this;// Cherche même sorte\nvar memeSorte=cartes.find(function(c){return c.sorte===_this2.sorte&&c.symbole!==_this2.symbole;});if(memeSorte!==undefined){// Si trouvé, carte pas sèche\nreturn false;}// Si carte d'atout, cherche bibittes\nif(this.isAtout(atout)){var bibittes=cartes.filter(function(c){return c.poids>14;});if(bibittes.length>0){// Si trouvées, carte pas sèche\nreturn false;}}// Carte sèche\nreturn true;}},{key:\"isChien\",value:function isChien(atout,dixPasse){if(this.sorte===atout){return false;}if(this.points!==0){return false;}if(this.poids<10){return true;}if((this.symbole===Symbole.JACK||this.symbole===Symbole.DAME)&&dixPasse){return true;}if(this.poids>14&&atout===Sorte.SANS_ATOUT){return true;}return false;}},{key:\"isBlanche\",value:function isBlanche(){return this.sorte===Sorte.BLANCHE;}},{key:\"isJoker\",value:function isJoker(){return this.sorte===Sorte.JOKER;}},{key:\"isBibitte\",value:function isBibitte(){return this.isJoker()||this.isBlanche();}},{key:\"setJoker\",value:function setJoker(){this.setFromPoids(15,Sorte.JOKER);}},{key:\"setBlanche\",value:function setBlanche(){this.setFromPoids(16,Sorte.BLANCHE);}}]);return Carte;}();","map":{"version":3,"names":["Sorte","COEUR","PIQUE","CARREAU","TREFLE","JOKER","BLANCHE","SANS_ATOUT","Couleur","NOIR","ROUGE","Symbole","SEPT","HUIT","NEUF","DIX","JACK","DAME","ROI","AS","Carte","rang","sorte","symbole","poids","key","surelevee","setImage","couleur","setCouleur","setPoints","carte","image","points","symboleKey","Object","keys","forEach","sorteIdx","i","atout","sorteDemandee","isAtout","cartes","isSorteDemandee","idx","findIndex","memeSorte","find","c","undefined","bibittes","filter","length","dixPasse","isJoker","isBlanche","setFromPoids"],"sources":["/Users/eli.leblanc/Documents/Eli/repos/beu-split/my-app/src/models/carte.js"],"sourcesContent":["export const Sorte = {\n    COEUR: 'coeur',\n    PIQUE: 'pique',\n    CARREAU: 'carreau',\n    TREFLE: 'trèfle',\n    JOKER: 'joker',\n    BLANCHE: 'blanche',\n    SANS_ATOUT: 'sans atout'\n}\n\nexport const Couleur = {\n    NOIR: 'black',\n    ROUGE: 'red'\n}\n\nexport const Symbole = {\n    SEPT: '7',\n    HUIT: '8',\n    NEUF: '9',\n    DIX: '10',\n    JACK: 'J',\n    DAME: 'Q',\n    ROI: 'K',\n    AS: 'A',\n}\n\nexport class Carte {\n    constructor(rang = -1, sorte = '', symbole = '', poids = 0) {\n        this.rang = rang;\n        this.key = `${symbole}|${sorte}`;\n        this.sorte = sorte;\n        this.symbole = symbole;\n        this.surelevee = false;\n        this.poids = poids;\n\n        this.setImage();\n        this.couleur = this.setCouleur();\n        this.setPoints();\n    }\n\n    copy() {\n        const carte = new Carte(this.rang, this.sorte, this.symbole, this.poids);\n        return carte;\n    }\n\n    setImage() {\n        switch (this.sorte) {\n            case Sorte.COEUR: {\n                this.image = 'coeur.png';\n                break;\n            }\n            case Sorte.PIQUE: {\n                this.image = 'pique.png';\n                break;\n            }\n            case Sorte.CARREAU: {\n                this.image = 'carreau.png';\n                break;\n            }\n            case Sorte.TREFLE: {\n                this.image = 'trefle.png';\n                break;\n            }\n            case Sorte.JOKER: {\n                this.image = 'joker.png';\n                break;\n            }\n            case Sorte.BLANCHE: {\n                this.image = 'blanche.png';\n                break;\n            }\n            default: {\n                this.image = 'blanche.png';\n                break;\n            }\n        }\n    }\n\n    setPoints() {        \n        this.points = 0;\n        if (this.symbole === Symbole.DIX) {\n            this.points = 10;\n        } else if (this.symbole === Symbole.ROI) {\n            this.points = 25;\n        }\n    }\n\n    setCouleur() {\n        this.couleur = this.sorte === Sorte.COEUR || this.sorte === Sorte.CARREAU || this.sorte === Sorte.JOKER ? Couleur.ROUGE : Couleur.NOIR;\n    }\n\n    setFromPoids(poids, sorte) {\n        this.poids = poids;\n        this.sorte = sorte;\n        const symboleKey = Object.keys(Symbole)[poids - 7];\n        Object.keys(Symbole).forEach(key => {\n            if (key === symboleKey) {\n                this.symbole = Symbole[key];\n            }\n        });\n        let sorteIdx = 0;\n        Object.keys(Sorte).forEach((key, i) => {\n            if (Sorte[key] === sorte) {\n                sorteIdx = i;\n            }\n        })\n        this.rang = sorteIdx * 8 + poids - 7;\n        this.key = `${this.symbole}|${sorte}`;\n        this.setCouleur();\n        this.setImage();\n        this.setPoints();\n    }\n\n    isAtout(atout) {\n        if (atout === Sorte.SANS_ATOUT) {\n            return false;\n        }\n        return this.sorte === Sorte.BLANCHE || this.sorte === Sorte.JOKER || this.sorte === atout;\n    }\n\n    isSorteDemandee(sorteDemandee, atout) {\n        if (sorteDemandee === this.sorte) {\n            return true;\n        }\n        if (sorteDemandee === atout && this.isAtout()) {\n            return true;\n        }\n        return false;\n    }\n\n    isDisabled(cartes, sorteDemandee, atout) {\n        if (sorteDemandee === null) {\n            return false;\n        }\n\n        if (this.isSorteDemandee(sorteDemandee, atout)) {\n            return false;\n        }\n\n        const idx = cartes.findIndex(i => i.isSorteDemandee(sorteDemandee, atout));\n        if (idx === -1) {\n            return false;\n        }\n        return true;\n    }\n\n    isSeche(cartes, atout) {\n        // Cherche même sorte\n        const memeSorte = cartes.find(c => c.sorte === this.sorte && c.symbole !== this.symbole);\n        if (memeSorte !== undefined) {\n            // Si trouvé, carte pas sèche\n            return false;\n        }\n        // Si carte d'atout, cherche bibittes\n        if (this.isAtout(atout)) {\n            const bibittes = cartes.filter(c => c.poids > 14);\n            if (bibittes.length > 0) {\n                // Si trouvées, carte pas sèche\n                return false;\n            }\n        }\n        // Carte sèche\n        return true;\n    }\n\n    isChien(atout, dixPasse) {\n        if (this.sorte === atout) {\n            return false;\n        }\n        if (this.points !== 0) {\n            return false;\n        }\n        if (this.poids < 10) {\n            return true;\n        }\n        if ((this.symbole === Symbole.JACK || this.symbole === Symbole.DAME) && dixPasse) {\n            return true;\n        }\n        if (this.poids > 14 && atout === Sorte.SANS_ATOUT) {\n            return true;\n        }\n        return false;\n    }\n\n    isBlanche() {\n        return this.sorte === Sorte.BLANCHE;\n    }\n\n    isJoker() {\n        return this.sorte === Sorte.JOKER;\n    }\n\n    isBibitte() {\n        return this.isJoker() || this.isBlanche();\n    }\n\n    setJoker() {\n        this.setFromPoids(15, Sorte.JOKER);\n    }\n\n    setBlanche() {\n        this.setFromPoids(16, Sorte.BLANCHE);\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}